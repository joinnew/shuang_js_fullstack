<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        // 字符串模板 深层 ？ js数据与html灵与肉的结合。
        // 嵌套
        let arr = [{value: 1}, {value: 2}];
        // let html = arr.map ((item) => {return `
        //     <ul>
        //         <li>${item.value}</li>   
        //     </ul>
        // `;})


        // 将字符串模板与map（将数组变成html格式的）结合起来，字符串模板会把数组转化为字符串，但是中间以','分割<li>1</li>,<li>2</li>
        // 注意，在 li 标签中间多了一个逗号，这是因为当大括号中的值不是字符串时，会将其转为字符串，比如一个数组 [1, 2, 3] 就会被转为 1,2,3，逗号就是这样产生的。

// 如果你要消除这个逗号，你可以先 join 一下：
        // let message = `
        //     <ul>
        //         ${arr.map((item) => {
        //             return `
        //                 <li>${item.value}</li>
        //                 `
        //         }).join('')}    
        //     </ul>
        // `;
        // console.log(message);
        let x = 'Tom', y='Kevin';
        // 标签模板功能 之间不能存在空格
        let message =onLine`
            Hi,
            ${x},
            I am,
            ${y},
        `;
        function onLine(template, ...expressions) {
            // es6 数组函数式函数 map 新生成一个数组
            // reduce 将数组减员 遍历数组的每一项，将每一项跟之前一项（也就是两项一起）进行一个什么操作（函数），最后数组只有一项 经常用于将一个数组求和
            let result = template.reduce((prev, next, i) => {
                let expression = expressions[i-1];
                // i是next的下标
                console.log(prev, next, expression, i);
                return prev + expression + next;
            });
            // console.log(template);
            // console.log(expressions);

            // 多行字符串， 如何去除空格， 删除换行？
            // 找到换行空格 看成空
            // \n\s匹配换行（行首之前的所有空格）想要的效果是将每行前面的多个空格替换成一个空格，其实应该匹配的是换行符以及换行符后面的多个空格，然后将其替换成一个空格
            result = result.replace(/(\n\s*)/g,'');  //处理了之后，要返回改后的东西，不是在原基础上保存修改(\s是\d是数字空格，可能存在多个空格)
            return result;
        }
        console.log(message);
      //让多行文本变到一行去，trim()只能去除首尾的空格 

    </script>
</body>
</html>